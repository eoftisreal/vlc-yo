diff --git a/src/logging.c b/src/logging.c
index 5aded01..2cacb45 100644
--- a/src/logging.c
+++ b/src/logging.c
@@ -62,6 +62,10 @@
 #  define S_IROTH S_IRUSR
 #  define S_IWOTH S_IWUSR
 # endif
+
+# if !WINAPI_FAMILY_PARTITION (WINAPI_PARTITION_DESKTOP)
+#  define getpid()  GetCurrentProcessId()
+# endif
 #endif
 
 
