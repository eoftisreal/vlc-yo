diff --git a/include/win32/win32_compat.h b/include/win32/win32_compat.h
index 70214b7..e11bf70 100755
--- a/include/win32/win32_compat.h
+++ b/include/win32/win32_compat.h
@@ -150,9 +150,15 @@ struct pollfd {
 int     getpid(void);
 int     win32_inet_pton(int af, const char * src, void * dst);
 int     win32_poll(struct pollfd *fds, unsigned int nfsd, int timeout);
-int     win32_gettimeofday(struct timeval *tv, struct timezone *tz);
 #ifdef __MINGW32__
 # define win32_gettimeofday mingw_gettimeofday
+#else
+struct timezone
+{
+  int  tz_minuteswest; /* minutes W of Greenwich */
+  int  tz_dsttime;     /* type of dst correction */
+};
+int     win32_gettimeofday(struct timeval *tv, struct timezone *tz);
 #endif
 
 #define DllExport
diff --git a/win32/win32_compat.c b/win32/win32_compat.c
index 3654788..fb5f0aa 100644
--- a/win32/win32_compat.c
+++ b/win32/win32_compat.c
@@ -157,12 +157,6 @@ int win32_poll(struct pollfd *fds, unsigned int nfds, int timo)
 #endif
  
 #ifndef __MINGW32__
-struct timezone 
-{
-  int  tz_minuteswest; /* minutes W of Greenwich */
-  int  tz_dsttime;     /* type of dst correction */
-};
- 
 int win32_gettimeofday(struct timeval *tv, struct timezone *tz)
 {
   FILETIME ft;
