diff --git a/CMakeLists.txt b/CMakeLists.txt
index b13f78c..a6478c5 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -16,7 +16,7 @@ endif(WIN32)
 add_definitions(-DFAST_MATH -DCVD_FASTLOG)
 
 if(NOT MSVC)
-  set(CMAKE_C_FLAGS "-O3 -Wall -fomit-frame-pointer -pipe")
+  add_definitions(-O3 -Wall -fomit-frame-pointer -pipe)
 endif(NOT MSVC)
 
 add_subdirectory(libmpcdec)
